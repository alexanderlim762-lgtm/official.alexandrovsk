<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Новости - Александровский АО</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="admin-square"></div>

<div class="vhs-menu">
    <ul>
        <li><a href="index.html">Главная</a></li>
        <li><a href="news.html">Новости</a></li>
        <li><a href="rules.html">Правила</a></li>
        <li><a href="updates.html">Обновления</a></li>
        <li><a href="plays.html">Проекты</a></li>
    </ul>
    <div>
        <img id="menu-avatar" class="menu-avatar" src="" alt="" onclick="goToProfile()">
        <span id="menu-login" class="menu-login" onclick="goToLogin()">Войти</span>
    </div>
</div>

<script>
let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;

const avatarEl = document.getElementById('menu-avatar');
const loginEl = document.getElementById('menu-login');

function updateMenu(){
    if(currentUser){
        avatarEl.src = currentUser.avatar || 'default-avatar.png';
        avatarEl.style.display = 'inline-block';
        loginEl.style.display = 'none';
    } else {
        avatarEl.style.display = 'none';
        loginEl.style.display = 'inline-block';
    }
}

function goToProfile(){
    if(currentUser) window.location.href = 'profile.html';
}

function goToLogin(){
    window.location.href = 'login.html';
}

updateMenu();
</script>

<main>
    <div class="news-container">
        <h1>Новости</h1>
<article class="news-item">
            <div class="news-date">06.01.2026</div>
            <h2>Выход видео</h2>
            <p>С радостью сообщаем, что видео от Александроаский АО выйдет в феврале!</p>
            <a class="read-more" href="report-02.html">Читать полностью</a>
</article>
        
        <article class="news-item">
            <div class="news-date">26.12.2025</div>
            <h2>Новогоднее поздравление</h2>
            <p>Администрация округа обращается к жителям с официальным обращением.</p>
            <a class="read-more" href="report-01.html">Читать полностью</a>
        </article>
        

    </div>
</main>

<div class="footer-info">
    <span>Archive Mode</span>
    <span>GovNet</span>
</div>
    <script>
async function checkCountryAccess() {
    try {
        // Используем бесплатный API для определения страны по IP
        const response = await fetch('https://ipapi.co/json/');
        const data = await response.json();
        const country = data.country_code; // ISO код страны, например "RU"

        // Разрешенные страны
        const allowed = ['RU', 'BY']; // Россия и Беларусь

        if (!allowed.includes(country)) {
            // Если страна не разрешена — скрываем контент
            document.body.innerHTML = `
                <div style="display:flex; justify-content:center; align-items:center; height:100vh; background:#600000; color:white; text-align:center; font-family:Roboto, sans-serif;">
                    <div>
                        <h1>Доступ запрещён</h1>
                        <p>Сайт доступен только для посетителей из России и Беларуси.</p>
                    </div>
                </div>
            `;
        }
    } catch (err) {
        console.error('Ошибка определения страны:', err);
        // В случае ошибки можно разрешить доступ по умолчанию
    }
}

// Запускаем проверку
checkCountryAccess();
    </script>

</body>
</html>







